<div class="overall-wrapper" appMaximize #nestjsAuthGuards="maximize" id="nestjsAuthGuards">
  <div class="wrapper">
    <img class="swap" *ngIf="nestjsAuthGuards.checkfullscreen() == 'hide'" (click)="nestjsAuthGuards.toggle()" src="../../../assets/expand.svg" alt="Expand">
    <img class="swap" *ngIf="nestjsAuthGuards.checkfullscreen() != 'hide'" (click)="nestjsAuthGuards.toggle()" src="../../../assets/Minimize icon.svg" alt="Minimize">
            
            <div class="header">
                <p>
                    <span class="question">What:</span>
                    <strong>D3 Zoom & Pan</strong> allows interactive zooming and panning of chart elements.
                </p>
                <p>
                    <span class="question">Why:</span>
                    Inspect large datasets or chart regions dynamically by zooming in/out or panning.
                </p>
                <p>
                    <span class="question">Where:</span>
                    Scatterplots, line charts, area charts, or any SVG visualization needing zoom/pan.
                </p>
            </div>
        </div>

        <div class="examples">
            <h3>D3 Zoom & Pan Examples â€” Step-by-step</h3>

            <div class="instructions">
                <strong>Instructions:</strong> Use mouse wheel to zoom, click and drag to pan. Double-click to reset zoom.
            </div>

            <!-- Example 1: Scatter Plot + Zoom/Pan -->
            <div class="step">
                <h2>1. Scatter Plot + Zoom/Pan</h2>
                <p>Zoom in/out and pan the scatter points dynamically.</p>

                <pre><code><span class="comment">// sample data</span>
<span class="keyword">const</span> data1 = Array.from(&#123;length: <span class="number">20</span>&#125;, (_, i) => (&#123;x: i*<span class="number">20</span>, y: Math.random()*<span class="number">100</span>&#125;));

<span class="comment">// scales</span>
<span class="keyword">const</span> x1 = d3.scaleLinear().domain([<span class="number">0</span>,<span class="number">400</span>]).range([<span class="number">10</span>,<span class="number">390</span>]);
<span class="keyword">const</span> y1 = d3.scaleLinear().domain([<span class="number">0</span>,<span class="number">100</span>]).range([<span class="number">140</span>,<span class="number">10</span>]);

<span class="keyword">const</span> svg1 = d3.select(<span class="string">'#zoom-scatter'</span>);
svg1.selectAll(<span class="string">'*'</span>).remove();

<span class="comment">// create container for zoomable content</span>
<span class="keyword">const</span> content1 = svg1.append(<span class="string">'g'</span>);

<span class="comment">// draw points</span>
content1.selectAll(<span class="string">'circle'</span>)
  .data(data1)
  .enter()
  .append(<span class="string">'circle'</span>)
  .attr(<span class="string">'cx'</span>, d => x1(d.x))
  .attr(<span class="string">'cy'</span>, d => y1(d.y))
  .attr(<span class="string">'r'</span>, <span class="number">5</span>)
  .attr(<span class="string">'fill'</span>, <span class="string">'#2b8cbe'</span>);

<span class="comment">// zoom behavior</span>
<span class="keyword">const</span> zoom1 = d3.zoom()
  .scaleExtent([<span class="number">0.5</span>,<span class="number">5</span>])
  .on(<span class="string">'zoom'</span>, (event) => &#123;
    content1.attr(<span class="string">'transform'</span>, event.transform);
  &#125;);

<span class="comment">// apply zoom to svg</span>
svg1.call(zoom1 AS any);</code></pre>

                <div class="output-section">
                    <p><strong>Output:</strong></p>
                    <svg id="zoom-scatter" width="420" height="160" class="viz-container"></svg>
                </div>
            </div>

            <!-- Example 2: Line Chart + Zoom/Pan -->
            <div class="step">
                <h2>2. Line Chart + Zoom/Pan</h2>
                <p>Zoom or pan the line chart to inspect data points.</p>

                <pre><code><span class="comment">// sample data</span>
<span class="keyword">const</span> data2 = [
  &#123;x:<span class="number">0</span>,y:<span class="number">30</span>&#125;,&#123;x:<span class="number">50</span>,y:<span class="number">80</span>&#125;,
  &#123;x:<span class="number">100</span>,y:<span class="number">45</span>&#125;,&#123;x:<span class="number">150</span>,y:<span class="number">120</span>&#125;,
  &#123;x:<span class="number">200</span>,y:<span class="number">70</span>&#125;,&#123;x:<span class="number">250</span>,y:<span class="number">100</span>&#125;
];

<span class="keyword">const</span> x2 = d3.scaleLinear().domain([<span class="number">0</span>,<span class="number">250</span>]).range([<span class="number">40</span>,<span class="number">380</span>]);
<span class="keyword">const</span> y2 = d3.scaleLinear().domain([<span class="number">0</span>,<span class="number">140</span>]).range([<span class="number">120</span>,<span class="number">20</span>]);

<span class="keyword">const</span> svg2 = d3.select(<span class="string">'#zoom-line'</span>);
<span class="keyword">const</span> content2 = svg2.append(<span class="string">'g'</span>);

<span class="comment">// add axes</span>
content2.append(<span class="string">'g'</span>)
  .attr(<span class="string">'transform'</span>, <span class="string">'translate(0,120)'</span>)
  .call(d3.axisBottom(x2));

content2.append(<span class="string">'g'</span>)
  .attr(<span class="string">'transform'</span>, <span class="string">'translate(40,0)'</span>)
  .call(d3.axisLeft(y2));
  .selectAll('text')
  .attr('transform', 'rotate(360)')  // rotate text
  .style('text-anchor', 'end')      // align properly

<span class="comment">// line generator</span>
<span class="keyword">const</span> lineGen2 = d3.line &lt;&#123;x: number, y: number&#123;&gt;()
  .x(d => x2(d.x))
  .y(d => y2(d.y))
  .curve(d3.curveMonotoneX);

<span class="comment">// draw line and points</span>
content2.append(<span class="string">'path'</span>)
  .datum(data2)
  .attr(<span class="string">'d'</span>, lineGen2 as any)
  .attr(<span class="string">'fill'</span>, <span class="string">'none'</span>)
  .attr(<span class="string">'stroke'</span>, <span class="string">'#2b8cbe'</span>)
  .attr(<span class="string">'stroke-width'</span>, <span class="number">3</span>);

content2.selectAll(<span class="string">'circle'</span>)
  .data(data2)
  .enter()
  .append(<span class="string">'circle'</span>)
  .attr(<span class="string">'cx'</span>, d => x2(d.x))
  .attr(<span class="string">'cy'</span>, d => y2(d.y))
  .attr(<span class="string">'r'</span>, <span class="number">5</span>)
  .attr(<span class="string">'fill'</span>, <span class="string">'#2b8cbe'</span>);

<span class="keyword">const</span> zoom2 = d3.zoom()
  .scaleExtent([<span class="number">0.5</span>,<span class="number">5</span>])
  .on(<span class="string">'zoom'</span>, (event) => &#123;
    content2.attr(<span class="string">'transform'</span>, event.transform);
  &#125;);

svg2.call(zoom2 as any);</code></pre>

                <div class="output-section">
                    <p><strong>Output:</strong></p>
                    <svg id="zoom-line" width="420" height="160" class="viz-container"></svg>
                </div>
            </div>
        </div>
    </div>