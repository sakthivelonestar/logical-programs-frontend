<div class="overall-wrapper" appMaximize #sqlJoinsRelationships="maximize" id="sqlJoinsRelationships">
        <div class="wrapper">
            <img class="swap" *ngIf="sqlJoinsRelationships.checkfullscreen() ==  'hide'" (click)="sqlJoinsRelationships.toggle()" src="../../../assets/expand.svg" alt="Expand">
            <img class="swap" *ngIf="sqlJoinsRelationships.checkfullscreen() !=  'hide'" (click)="sqlJoinsRelationships.toggle()" src="../../../assets/Minimize icon.svg" alt="Minimize">
            <div class="header">
                <p> <span class="question">What:</span>
                    SQL joins and relationships are used to <strong>connect data from two or more tables</strong> that are related through common columns.
                </p>
                <p> <span class="question">Why:</span>
                    They are important because they help <strong>avoid duplicate data, keep data organized, and allow you to get complete information from different tables.</strong>
                </p>
                <p> <span class="question">Where:</span>
                    Joins and relationships are used <strong>in all types of databases where tables are linked together</strong> ‚Äî like in websites, reports, e-commerce apps, and business systems.
                </p>
            </div>
        </div>
    <div class="examples">
          <div class="step">
                <h4>Step 1: Basic SQL Joins</h4>
                <pre><code>-- INNER JOIN - Returns records that have matching values in both tables
SELECT e.employee_id, e.first_name, e.last_name, d.department_name
FROM employees e
INNER JOIN departments d ON e.department_id = d.department_id;

-- LEFT JOIN - Returns all records from left table, matched records from right table
SELECT e.employee_id, e.first_name, d.department_name
FROM employees e
LEFT JOIN departments d ON e.department_id = d.department_id;

-- RIGHT JOIN - Returns all records from right table, matched records from left table
SELECT e.first_name, d.department_name
FROM employees e
RIGHT JOIN departments d ON e.department_id = d.department_id;

-- FULL OUTER JOIN - Returns all records when there's a match in either table
SELECT e.first_name, d.department_name
FROM employees e
FULL OUTER JOIN departments d ON e.department_id = d.department_id;

-- CROSS JOIN - Returns Cartesian product of both tables (possible combinations)
SELECT e.first_name, d.department_name
FROM employees e
CROSS JOIN departments d;</code></pre>
                <p>Basic SQL join types demonstrating different ways to combine data from related tables.</p>
            </div>
            
            <div class="step">
                <h4>Step 2: Advanced Join Techniques</h4>
                <pre><code>-- Multiple table joins
SELECT e.first_name, e.last_name, d.department_name, p.project_name
FROM employees e
INNER JOIN departments d ON e.department_id = d.department_id
INNER JOIN employee_projects ep ON e.employee_id = ep.employee_id
INNER JOIN projects p ON ep.project_id = p.project_id;

-- Self JOIN - Join table with itself
SELECT e1.first_name AS employee, e2.first_name AS manager
FROM employees e1
LEFT JOIN employees e2 ON e1.manager_id = e2.employee_id;

-- Join with aggregation
SELECT d.department_name, COUNT(e.employee_id) as employee_count, AVG(e.salary) as avg_salary
FROM departments d
LEFT JOIN employees e ON d.department_id = e.department_id
GROUP BY d.department_id, d.department_name;

-- Join with conditions in WHERE clause
SELECT e.first_name, e.last_name, d.department_name, e.salary
FROM employees e
INNER JOIN departments d ON e.department_id = d.department_id
WHERE e.salary > 60000 AND d.department_name IN ('IT', 'Finance');

-- Join with subqueries
SELECT e.first_name, e.last_name, d.department_name
FROM employees e
INNER JOIN departments d ON e.department_id = d.department_id
WHERE e.salary > (SELECT AVG(salary) FROM employees);</code></pre>
                <p>Advanced join techniques including multiple tables, self-joins, aggregations, and complex conditions.</p>
            </div>
            
          

            <div class="step">
  <h4>Step 3: Database Relationships and Constraints</h4>

  <pre><code>-- üîó One-to-Many Relationship
-- Each department can have many employees

SELECT d.department_name, COUNT(e.employee_id) AS total_employees
FROM departments d
LEFT JOIN employees e ON d.department_id = e.department_id
GROUP BY d.department_id, d.department_name;

-- üí° Example Output:
-- HR - 5 employees
-- IT - 3 employees
-- Marketing - 0 employees</code></pre>

  <pre><code>-- üîÅ Many-to-Many Relationship
-- Employees can work on many projects, and each project can have many employees

SELECT e.first_name, e.last_name, p.project_name, ep.role, ep.hours_allocated
FROM employees e
INNER JOIN employee_projects ep ON e.employee_id = ep.employee_id
INNER JOIN projects p ON ep.project_id = p.project_id
ORDER BY e.last_name, p.project_name;

-- üí° Example Output:
-- Alice Johnson - App Redesign - Designer - 20 hrs
-- Bob Smith - Backend Revamp - Developer - 30 hrs</code></pre>

  <pre><code>-- 1Ô∏è‚É£ One-to-One Relationship
-- Each employee has only one profile with contact info

SELECT e.first_name, e.last_name, ep.phone_number, ep.address, ep.emergency_contact
FROM employees e
LEFT JOIN employee_profiles ep ON e.employee_id = ep.employee_id;

-- üí° Example Output:
-- Alice Johnson - 9876543210 - 123 Main St - Sarah (Sister)</code></pre>

  <pre><code>-- üìä Complex Join with Aggregates
-- Show department name, number of employees, projects, and average salary

SELECT 
    d.department_name,
    COUNT(DISTINCT e.employee_id) AS employee_count,
    COUNT(DISTINCT p.project_id) AS project_count,
    AVG(e.salary) AS avg_department_salary
FROM departments d
LEFT JOIN employees e ON d.department_id = e.department_id
LEFT JOIN employee_projects ep ON e.employee_id = ep.employee_id
LEFT JOIN projects p ON ep.project_id = p.project_id
GROUP BY d.department_id, d.department_name
HAVING COUNT(DISTINCT e.employee_id) > 5
ORDER BY avg_department_salary DESC;

-- üí° Example Output:
-- Engineering - 10 employees - 4 projects - ‚Çπ75,000 avg salary</code></pre>

  <p><strong>Summary:</strong> These queries help visualize how tables relate to each other in real-world systems:</p>
  <ul>
    <li>üë®‚Äçüíº One-to-Many ‚Üí Department has multiple employees</li>
    <li>üîÅ Many-to-Many ‚Üí Employees involved in many projects</li>
    <li>üîê One-to-One ‚Üí One profile per employee</li>
    <li>üìà Complex ‚Üí Useful for reports with grouping & calculations</li>
  </ul>
</div>

    </div>
</div>